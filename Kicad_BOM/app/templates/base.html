<!DOCTYPE html>
<html lang="en">
  <head>
    <title>KiCAD BOM Generator</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="/static/css/bootstrap.min.css">
    <link rel="stylesheet" href="/static/css/bootstrap-theme.min.css">
    <link rel="stylesheet" href="/static/css/bootstrap-datepicker3.min.css">
    <script src="/static/js/jquery-2.2.4.min.js"></script>
    <script src="/static/js/bootstrap.min.js"></script>
    <script src="/static/js/bootstrap-datepicker.min.js"></script>
  </head>
  <body>
    <div class="container-fluid">
      <div class="row">
        <div class="col-sm-2">
          <ul>
            <li><a href="{{ url_for('index') }}">Home</a></li>
            <li><a href="{{ url_for('upload') }}">Upload New BOM</a></li>
            <li><a href="{{ url_for('new_order') }}">New Order</a></li>
            <li><a href="{{ url_for('login') }}">Log in</a></li>
            <li><a href="{{ url_for('search_part') }}">Search Parts</a></li>
          </ul>
        </div>
        <div class="col-sm-10">
          {% with messages = get_flashed_messages(with_categories=True) %}
            {% if messages %}
            <div class='row'>
            <div class='col-sm-8'>
              {% for category, text in messages %}
              {% if category in ['success', 'info', 'warning', 'danger'] %}
              <div class="alert alert-{{ category }}">
                <strong>{{ category.title() }}:</strong> {{ text }}
              </div>
              {% else %}
              <div class="alert alert-info">
                <strong>Info:</strong> {{ text }}
              </div>
              {% endif %}
              {% endfor %}
            </div>
            </div>
            {% endif %}
          {% endwith %}

          {% block content %}{% endblock %}
        </div>
      </div>
    </div>
  </body>
  <script>
  $(document).ready(function () {
    $('.price_break').each(function(index){
      var outstr = '<table class="table table-condensed">';
      var outstr = outstr.concat('<thead><th>count</th><th>Price</th></thead><tbody>');
      var breaks = this.getAttribute('data-price-breaks').split('~');
      for(var i=0; i<breaks.length; i++){
        outstr = outstr.concat('<tr>');
        var splited = breaks[i].split(':');
        outstr = outstr.concat('<td class="text-right">',splited[0],'</td>')
        outstr = outstr.concat('<td class="text-right">',splited[1],'</td>')
        outstr = outstr.concat('</tr>');
      }
      outstr = outstr.concat('</tbody></table>');
      this.setAttribute('title', outstr);
      this.setAttribute('data-price-breaks', null);
    });
    $('[data-toggle="tooltip"]').tooltip({
      container : 'body',
      html: true
    });
  });
  </script>
</html>
